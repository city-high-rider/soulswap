[gd_scene load_steps=12 format=3 uid="uid://cuna3v5lattg1"]

[ext_resource type="PackedScene" uid="uid://bw42rj1kwnyl" path="res://shells/Husk.tscn" id="1_cbce8"]
[ext_resource type="PackedScene" uid="uid://4pb4cmdkvqam" path="res://ghosts/dummy_ghost.tscn" id="3_sgn8s"]
[ext_resource type="PackedScene" uid="uid://b3cny3iljmcwh" path="res://shells/roller_machinegun.tscn" id="4_4aj81"]
[ext_resource type="Script" path="res://interactive/popup_area.gd" id="5_0sto5"]
[ext_resource type="PackedScene" uid="uid://bu57v5cln1y64" path="res://interactive/checkpoint.tscn" id="5_48qpn"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_obdej"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_ruq33"]
sky_material = SubResource("ProceduralSkyMaterial_obdej")

[sub_resource type="Environment" id="Environment_m6vkg"]
background_mode = 2
sky = SubResource("Sky_ruq33")
tonemap_mode = 2
glow_enabled = true

[sub_resource type="NavigationMesh" id="NavigationMesh_toq2o"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_d0qxv"]
albedo_color = Color(0, 0.823529, 0.729412, 1)

[sub_resource type="BoxShape3D" id="BoxShape3D_hoiu8"]
size = Vector3(4.0106, 1, 3.5088)

[node name="test_level" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_m6vkg")

[node name="OmniLight3D" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.04284, -0.309761)
omni_range = 6.14423

[node name="OmniLight3D2" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.04284, 14.6902)
omni_range = 6.14423

[node name="OmniLight3D3" type="OmniLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.95716, 14.6902)
omni_range = 6.14423

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="."]
navigation_mesh = SubResource("NavigationMesh_toq2o")

[node name="CSGCombiner3D" type="CSGCombiner3D" parent="NavigationRegion3D"]
use_collision = true

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 7)
size = Vector3(8.67214, 0.152492, 28)

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.36762, -2.12506)
size = Vector3(8.43005, 2.81663, 0.430027)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D/CSGBox3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.72421, -0.863254, 0.0311794)
operation = 2
size = Vector3(1.27497, 1.17696, 1)

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D/CSGBox3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.590775, -0.309641, -0.179467)
operation = 2
size = Vector3(1.13257, 1.97031, 0.326113)
material = SubResource("StandardMaterial3D_d0qxv")

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2.79949, 0)
size = Vector3(8.67214, 0.152492, 28)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.16971, 1.33783, 0)
size = Vector3(0.325852, 2.95497, 28.1645)

[node name="CSGBox3D4" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4.38733, 1.33783, 0)
size = Vector3(0.325852, 2.95497, 28.1645)

[node name="CSGBox3D5" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0955324, 1.3908, -13.7824)
size = Vector3(8.2279, 2.5709, 0.195285)

[node name="CSGBox3D6" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0955324, 1.3908, 11.824)
size = Vector3(8.2279, 2.5709, 0.195285)

[node name="CSGBox3D7" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.309009, 9.09488)
size = Vector3(3.27602, 1, 2.33919)

[node name="CSGBox3D9" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.66096, 9.09488)
size = Vector3(12.3762, 0.360905, 9.23121)

[node name="CSGBox3D8" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.309009, 9.09488)
operation = 2
size = Vector3(2.86223, 1.07311, 2.09955)

[node name="table" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.587013, 1.35783)
size = Vector3(0.240918, 1, 0.316665)

[node name="CSGBox3D" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/table"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.51415, 0)
size = Vector3(1, 0.16392, 1)

[node name="CSGBox3D2" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -2.38493, 15.9279)
size = Vector3(12.0579, 3.204, 9.23239)

[node name="CSGBox3D3" type="CSGBox3D" parent="NavigationRegion3D/CSGCombiner3D/CSGBox3D2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.145639, 0)
operation = 2
size = Vector3(11.4855, 2.96588, 8.98612)

[node name="Husk" parent="." instance=ExtResource("1_cbce8")]
transform = Transform3D(-0.983445, 0, -0.181206, 0, 1, 0, 0.181206, 0, -0.983445, -2.44126, 1.03959, -4.98604)

[node name="Shell" parent="." instance=ExtResource("4_4aj81")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0506618, 1.77996, 1.35028)

[node name="GhostMount" parent="Shell" index="3" node_paths=PackedStringArray("ghost")]
ghost = NodePath("DummyGhost")

[node name="DummyGhost" parent="Shell/GhostMount" index="1" instance=ExtResource("3_sgn8s")]

[node name="PopupArea" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.01732, 0)
collision_layer = 0
collision_mask = 4
script = ExtResource("5_0sto5")
message = "Press F to possess enemies. This uses STYLE POINTS."

[node name="CollisionShape3D" type="CollisionShape3D" parent="PopupArea"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.423902, 0.467461)
shape = SubResource("BoxShape3D_hoiu8")

[node name="PopupArea2" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1.94959, 1.01732, 8.54825)
collision_layer = 0
collision_mask = 4
script = ExtResource("5_0sto5")
message = "Walk under the checkpoint to save your progress."

[node name="CollisionShape3D" type="CollisionShape3D" parent="PopupArea2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.423902, 0.467461)
shape = SubResource("BoxShape3D_hoiu8")

[node name="PopupArea3" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.698493, -2.55218, 15.8255)
collision_layer = 0
collision_mask = 4
script = ExtResource("5_0sto5")
message = "The only way to get more health and ammo is by possessing a new host."

[node name="CollisionShape3D" type="CollisionShape3D" parent="PopupArea3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.423902, 0.467461)
shape = SubResource("BoxShape3D_hoiu8")

[node name="Checkpoint" parent="." instance=ExtResource("5_48qpn")]
transform = Transform3D(-2.98023e-08, 0, 1, 0, 1, 0, -1, 0, -2.98023e-08, 0.101303, 0.212943, 12.4854)

[connection signal="body_entered" from="PopupArea" to="PopupArea" method="_on_body_entered"]
[connection signal="body_entered" from="PopupArea2" to="PopupArea2" method="_on_body_entered"]
[connection signal="body_entered" from="PopupArea3" to="PopupArea3" method="_on_body_entered"]

[editable path="Shell"]
[editable path="Shell/Head"]
[editable path="Shell/Head/MachineGun"]
[editable path="Shell/Head/MachineGun2"]
